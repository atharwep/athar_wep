<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ø«Ø± | Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Cairo:wght@400;600;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .login-card {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .dashboard {
            display: none;
            max-width: 800px;
            margin: 50px auto;
        }

        .status-box {
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }

        .success {
            background: #d1fae5;
            color: #065f46;
        }

        .error {
            background: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>

<body>
    <div class="bg-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-3"></div>
    </div>

    <!-- Login Section -->
    <div id="loginSection" class="container">
        <div class="login-card">
            <h2 style="color:#2c3e50; margin-bottom:20px;">ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h2>
            <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
                style="width:100%; padding:12px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc;">
            <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                style="width:100%; padding:12px; margin-bottom:20px; border-radius:8px; border:1px solid #ccc;">
            <button onclick="attemptLogin()" class="btn btn-primary" style="width:100%;">Ø¯Ø®ÙˆÙ„</button>
            <p id="loginError" style="color:red; margin-top:10px; display:none;">Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©</p>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboardSection" class="container dashboard">
        <nav style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h1 style="color:white; margin:0;">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨</h1>
            <button onclick="logout()" class="btn btn-ghost" style="color:white;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </nav>

        <div class="glass-card">
            <h3>ğŸ“‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø®ØµØµ</h3>
            <p style="color:#666; margin-bottom:20px;">
                <strong>Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰:</strong><br>
                1. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ (Ù…Ø±ÙÙˆØ¹ Ù‡Ù†Ø§).<br>
                2. Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ØŒ ÙŠØ¨Ø­Ø« Ø¹Ù† Ù…Ù„Ù <code>00.docx</code> ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯.<br>
                3. Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ØŒ ÙŠØ³ØªØ®Ø¯Ù… PDF Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ.
            </p>

            <div style="border: 2px dashed #ccc; padding: 40px; text-align: center; border-radius: 10px; cursor: pointer;"
                onclick="document.getElementById('templateInput').click()">
                <div style="font-size:3rem;">ğŸ“„</div>
                <p>Ø§Ø¶ØºØ· Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù‚Ø§Ù„Ø¨ (ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ù„Ù 00.docx)</p>
                <input type="file" id="templateInput" accept=".docx" style="display:none;"
                    onchange="handleFileSelect(this)">
            </div>

            <div id="uploadStatus" style="display:none;"></div>

            <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
                <h4>Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø®ØµØµ (Browser Storage):</h4>
                <p id="currentTemplateName" style="color:var(--primary); font-weight:bold;">...</p>
                <button onclick="clearTemplate()" class="btn btn-ghost" style="color:red; font-size:0.9rem;">ğŸ—‘ï¸ Ø­Ø°Ù
                    ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø£ØµÙ„ÙŠ (00.docx)</button>
            </div>
        </div>

        <div style="text-align:center; margin-top:20px;">
            <a href="cv.html" class="btn btn-primary">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© â¡ï¸</a>
        </div>
    </div>

    <script>
        // Auth Logic
        function attemptLogin() {
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            if (u === 'abo' && p === '0990073618') {
                sessionStorage.setItem('admin_logged_in', 'true');
                showDashboard();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }

        function showDashboard() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('dashboardSection').style.display = 'block';
            checkCurrentTemplate();
        }

        function logout() {
            sessionStorage.removeItem('admin_logged_in');
            location.reload();
        }

        if (sessionStorage.getItem('admin_logged_in') === 'true') showDashboard();

        // Template Logic
        function handleFileSelect(input) {
            const file = input.files[0];
            if (!file) return;

            if (file.size > 4000000) {
                alert("Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹!");
                return;
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                try {
                    const base64 = e.target.result;
                    localStorage.setItem('customCvTemplate', base64);
                    localStorage.setItem('customCvTemplateName', file.name);

                    const status = document.getElementById('uploadStatus');
                    status.className = 'status-box success';
                    status.innerText = 'ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­! âœ…';
                    status.style.display = 'block';
                    checkCurrentTemplate();
                } catch (err) {
                    alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ†.");
                }
            };
            reader.readAsDataURL(file);
        }

        function checkCurrentTemplate() {
            const name = localStorage.getItem('customCvTemplateName');
            if (name) {
                document.getElementById('currentTemplateName').innerText = "âœ… Ù…ÙØ¹Ù„: " + name;
            } else {
                document.getElementById('currentTemplateName').innerText = "âŒ ØºÙŠØ± Ù…ÙØ¹Ù„ (ÙŠØ³ØªØ®Ø¯Ù… 00.docx Ø¥Ø°Ø§ ÙˆØ¬Ø¯)";
            }
        }

        function clearTemplate() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø±ÙÙˆØ¹ ÙˆØ§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù…Ù„Ù 00.docxØŸ')) {
                localStorage.removeItem('customCvTemplate');
                localStorage.removeItem('customCvTemplateName');
                location.reload();
            }
        }
    </script>
</body>

</html>