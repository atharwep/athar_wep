# ๐ ุฏููู ุฑุจุท ุงููููุน ุจู Google Sheets

## โ ุงููุถุน ุงูุญุงูู

ูููุนู **ูุฑุชุจุท ุจุงููุนู** ุจู Google Sheets! ๐

**ุฑุงุจุท ุงูู Web App ุงูุญุงูู:**
```
https://script.google.com/macros/s/AKfycbzCic7XWHobosbwc4PR7_zoS1aZqO6u2UO2-C5Sjm1Nrk7S_iKiCekYa-2Mz84tz-RC/exec
```

---

## ๐ ููู ูุนูู ุงููุธุงู ุงูุญุงููุ

### 1. **ุงููููุน (Frontend)**
- ููู `protection.js` ูุฑุณู ุทูุจุงุช ุฅูู Google Apps Script
- ูุชุญูู ูู ุงูุฃููุงุฏ
- ูุณุฌู ุงูุฒูุงุฑุงุช

### 2. **Google Apps Script (Backend)**
- ููู `bridge_script.js` ูุนูู ูุฎุงุฏู
- ูุณุชูุจู ุงูุทูุจุงุช ูู ุงููููุน
- ูุฎุฒู ุงูุจูุงูุงุช ูู Google Sheets

### 3. **Google Sheets (Database)**
- ูุญุชูู ุนูู ุฌุฏุงูู (Sheets):
  - `UsedCodes` - ุงูุฃููุงุฏ ุงููุณุชุฎุฏูุฉ
  - `Users` - ุงููุณุชุฎุฏููู
  - `Stats` - ุงูุฅุญุตุงุฆูุงุช
  - `Jobs` - ุงููุธุงุฆู
  - `Library` - ุงูููุชุจุฉ

---

## ๐ ุฎุทูุงุช ุงูุชุญูู ูู ุงูุฑุจุท

### ุงูุฎุทูุฉ 1: ุงููุตูู ุฅูู Google Apps Script

1. ุงุฐูุจ ุฅูู [Google Apps Script](https://script.google.com/)
2. ุงุจุญุซ ุนู ูุดุฑูุน ุจุงุณู ูุฑูุจ ูู "Athar" ุฃู "Bridge"
3. ุงูุชุญ ุงููุดุฑูุน

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูููุฏ

ุชุฃูุฏ ูู ูุฌูุฏ ููู `Code.gs` ูุญุชูู ุนูู ูุญุชูู `bridge_script.js`

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงููุดุฑ (Deployment)

1. ูู Google Apps Scriptุ ุงููุฑ ุนูู **"Deploy"** > **"Manage deployments"**
2. ูุฌุจ ุฃู ุชุฑู ูุดุฑุงู (Deployment) ูุดุทุงู
3. ุงูุณุฎ ุฑุงุจุท ุงูู **Web app URL**

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู Google Sheets

1. ุงุฐูุจ ุฅูู [Google Drive](https://drive.google.com/)
2. ุงุจุญุซ ุนู ููู ุจุงุณู **"Athar_Database"**
3. ุงูุชุญู ูุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู (Sheets)

---

## ๐ ุฅูุดุงุก ุฑุจุท ุฌุฏูุฏ ูู ุงูุตูุฑ

ุฅุฐุง ููุช ุชุฑูุฏ ุฅูุดุงุก ุฑุจุท ุฌุฏูุฏ ุฃู ุฅุนุงุฏุฉ ุงูุฅุนุฏุงุฏ:

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Google Sheets ุฌุฏูุฏ

1. ุงุฐูุจ ุฅูู [Google Sheets](https://sheets.google.com/)
2. ุงููุฑ ุนูู **"+ Blank"** ูุฅูุดุงุก ุฌุฏูู ุฌุฏูุฏ
3. ุณููู **"Athar_Database"**
4. ุฃูุดุฆ ุงูุฌุฏุงูู ุงูุชุงููุฉ (ูู ูุงุญุฏ ูู Sheet ูููุตู):

#### Sheet 1: `UsedCodes`
| Code | ID | UsedDate | Page |
|------|-----|----------|------|
| 3025 | 1000 | 2026-01-03 | cv.html |

#### Sheet 2: `Users`
| Email | Password | Name | Date |
|-------|----------|------|------|
| user@example.com | pass123 | ุงุณู ุงููุณุชุฎุฏู | 2026-01-03 |

#### Sheet 3: `Stats`
| VisitorCount |
|--------------|
| 1527 |

#### Sheet 4: `Jobs`
| Date | Title | Organization | Location | Deadline | Content | FileID |
|------|-------|--------------|----------|----------|---------|--------|
| 2026-01-03 | ุนููุงู ุงููุธููุฉ | ุงูููุธูุฉ | ุงููููุน | 2026-01-31 | ุงููุต... | file_id |

#### Sheet 5: `Library`
| Date | Title | Category | Summary | FileID | Content |
|------|-------|----------|---------|--------|---------|
| 2026-01-03 | ุนููุงู ุงูููุฑุฏ | ุงูุชุตููู | ููุฎุต | file_id | ุงููุต... |

---

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Google Apps Script

1. ูู Google Sheetsุ ุงููุฑ ุนูู **"Extensions"** > **"Apps Script"**
2. ุณููุชุญ ูุญุฑุฑ ุงูุฃููุงุฏ
3. ุงุญุฐู ุงูููุฏ ุงูุงูุชุฑุงุถู
4. ุงูุณุฎ ูุญุชูู ููู `bridge_script.js` ุจุงููุงูู
5. ุงูุตูู ูู ุงููุญุฑุฑ
6. ุงููุฑ ุนูู **"Save"** ๐พ (ุฃููููุฉ ุงููุฑุต)

---

### ุงูุฎุทูุฉ 3: ูุดุฑ Web App

1. ูู ูุญุฑุฑ Apps Scriptุ ุงููุฑ ุนูู **"Deploy"** > **"New deployment"**
2. ุงููุฑ ุนูู ุฃููููุฉ ุงูุชุฑุณ โ๏ธ ุจุฌุงูุจ "Select type"
3. ุงุฎุชุฑ **"Web app"**
4. ุงููุฃ ุงูุฅุนุฏุงุฏุงุช:
   - **Description:** Athar Platform Backend
   - **Execute as:** Me (ุจุฑูุฏู ุงูุฅููุชุฑููู)
   - **Who has access:** Anyone
5. ุงููุฑ ุนูู **"Deploy"**
6. ูุฏ ูุทูุจ ููู ุงูููุงููุฉ ุนูู ุงูุฃุฐููุงุช:
   - ุงููุฑ ุนูู **"Authorize access"**
   - ุงุฎุชุฑ ุญุณุงุจู
   - ุงููุฑ ุนูู **"Advanced"** > **"Go to [project name] (unsafe)"**
   - ุงููุฑ ุนูู **"Allow"**
7. **ุงูุณุฎ ุฑุงุจุท ุงูู Web app URL** (ููู ุฌุฏุงู!)

---

### ุงูุฎุทูุฉ 4: ุชุญุฏูุซ ุงููููุน ุจุงูุฑุงุจุท ุงูุฌุฏูุฏ

ุงูุชุญ ููู `protection.js` ูุนุฏูู ุงูุณุทุฑ 161:

```javascript
const BRIDGE_URL = "ุถุน_ุงูุฑุงุจุท_ุงูุฌุฏูุฏ_ููุง";
```

**ูุซุงู:**
```javascript
const BRIDGE_URL = "https://script.google.com/macros/s/AKfycby.../exec";
```

---

### ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุงูุฑุจุท

1. ุงูุชุญ ุฃู ุตูุญุฉ ูู ูููุนู ูู ุงููุชุตูุญ
2. ุงูุชุญ Console (ุงุถุบุท F12)
3. ุงูุชุจ:
```javascript
fetch('ุฑุงุจุท_ุงูู_Web_App?action=test')
  .then(r => r.json())
  .then(d => console.log(d));
```
4. ูุฌุจ ุฃู ุชุฑู:
```json
{
  "status": "success",
  "message": "Connected to Bridge Successfully"
}
```

---

## ๐ง ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

### 1. ุฑุจุท Google Sheets ุจุงููุนุฑู (ID)

ุฅุฐุง ููุช ุชุฑูุฏ ุณุฑุนุฉ ุฃูุจุฑุ ุฃุถู ูุนุฑู ุงูุฌุฏูู ูู `bridge_script.js`:

1. ุงูุชุญ Google Sheets
2. ุงูุณุฎ ุงููุนุฑู ูู ุงูุฑุงุจุท:
```
https://docs.google.com/spreadsheets/d/[ูุฐุง_ูู_ุงููุนุฑู]/edit
```
3. ูู `bridge_script.js`ุ ุนุฏูู ุงูุณุทุฑ 21:
```javascript
const SPREADSHEET_ID = "ุถุน_ุงููุนุฑู_ููุง";
```

---

### 2. ุฅุนุฏุงุฏ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ

ููุฒุงููุฉ ุงููููุงุช ูู Google Drive ุชููุงุฆูุงู ูู ุณุงุนุฉ:

1. ูู ูุญุฑุฑ Apps Scriptุ ุงููุฑ ุนูู ุฃููููุฉ ุงูุณุงุนุฉ โฐ (Triggers)
2. ุงููุฑ ุนูู **"+ Add Trigger"**
3. ุงููุฃ ุงูุฅุนุฏุงุฏุงุช:
   - **Choose which function to run:** syncDriveContent
   - **Select event source:** Time-driven
   - **Select type of time based trigger:** Hour timer
   - **Select hour interval:** Every hour
4. ุงููุฑ ุนูู **"Save"**

---

## ๐ ุนุฑุถ ุงูุจูุงูุงุช ูู Google Sheets

### ูู ุงููููุน (JavaScript):

```javascript
// ุฌูุจ ุงููุธุงุฆู
fetch('ุฑุงุจุท_ุงูู_Web_App?type=jobs')
  .then(r => r.json())
  .then(jobs => {
    console.log('ุงููุธุงุฆู:', jobs);
  });

// ุฌูุจ ุงูููุชุจุฉ
fetch('ุฑุงุจุท_ุงูู_Web_App?type=library')
  .then(r => r.json())
  .then(library => {
    console.log('ุงูููุชุจุฉ:', library);
  });

// ุชุณุฌูู ุฒูุงุฑุฉ
fetch('ุฑุงุจุท_ุงูู_Web_App?action=visitor')
  .then(r => r.json())
  .then(data => {
    console.log('ุนุฏุฏ ุงูุฒูุงุฑ:', data.count);
  });
```

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 1. ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

**ูุง ุชุฎุฒู ูููุงุช ุงููุฑูุฑ ุจุดูู ูุตู!** ุงุณุชุฎุฏู:

```javascript
// ูู Apps Script
function hashPassword(password) {
  return Utilities.computeDigest(
    Utilities.DigestAlgorithm.SHA_256,
    password
  ).toString();
}
```

### 2. ุงูุชุญูู ูู ุงููุตุฏุฑ

ุฃุถู ูู `bridge_script.js`:

```javascript
function doGet(e) {
  // ุงูุชุญูู ูู ุงููุตุฏุฑ
  const allowedOrigins = [
    'https://yourwebsite.com',
    'http://localhost'
  ];
  
  // ... ุจุงูู ุงูููุฏ
}
```

### 3. ุญุฏ ุงูุทูุจุงุช (Rate Limiting)

ูููุน ุงูุฅุณุงุกุฉ:

```javascript
const MAX_REQUESTS_PER_MINUTE = 60;
// ุชุทุจูู ุงูุญุฏ...
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "Failed to fetch"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุดุฑ Web App ุจุดูู ุตุญูุญ
2. ุชุฃูุฏ ูู ุฃู "Who has access" = **Anyone**
3. ุชุฃูุฏ ูู ุงูุฑุงุจุท ุตุญูุญ

### ูุดููุฉ: "Authorization required"

**ุงูุญู:**
1. ุฃุนุฏ ูุดุฑ Web App
2. ุชุฃูุฏ ูู ุงูููุงููุฉ ุนูู ุฌููุน ุงูุฃุฐููุงุช
3. ุฌุฑุจ ูู ูุถุน ุงูุชุตูุญ ุงูุฎูู

### ูุดููุฉ: "Spreadsheet not found"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุงุณู ุงูุฌุฏูู = **"Athar_Database"**
2. ุฃู ุฃุถู `SPREADSHEET_ID` ูู `bridge_script.js`

### ูุดููุฉ: ุงูุจูุงูุงุช ูุง ุชูุญูุธ

**ุงูุญู:**
1. ุงูุชุญ Google Sheets ูุชุญูู ูู ุงูุฌุฏุงูู
2. ุชุญูู ูู Console ูู ุงููุชุตูุญ (F12)
3. ุชุญูู ูู Logs ูู Apps Script:
   - ุงููุฑ ุนูู **"Executions"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### 1. ุนุฑุถ ุงูุณุฌูุงุช (Logs)

ูู Apps Script:
1. ุงููุฑ ุนูู **"Executions"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุดุงูุฏ ุฌููุน ุงูุทูุจุงุช ูุงูุฃุฎุทุงุก

### 2. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

ูู Google Sheets:
1. ุงูุชุญ Sheet "Stats"
2. ุดุงูุฏ ุนุฏุฏ ุงูุฒูุงุฑ

### 3. ุนุฑุถ ุงูุฃููุงุฏ ุงููุณุชุฎุฏูุฉ

ูู Google Sheets:
1. ุงูุชุญ Sheet "UsedCodes"
2. ุดุงูุฏ ุฌููุน ุงูุฃููุงุฏ ุงููุณุชุฎุฏูุฉ

---

## ๐ ุชุญุฏูุซ ุงูููุฏ

ุฅุฐุง ุฃุฑุฏุช ุชุญุฏูุซ `bridge_script.js`:

1. ุงูุชุญ ูุญุฑุฑ Apps Script
2. ุนุฏูู ุงูููุฏ
3. ุงุญูุธ (Ctrl+S)
4. **ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุงููุดุฑ!** ุงูุชุญุฏูุซุงุช ุชุทุจู ุชููุงุฆูุงู

---

## ๐ ุงูุฏุนู

### ุงููููุงุช ุงููุฑุฌุนูุฉ:
- `bridge_script.js` - ุงูููุฏ ุงููุงูู ููู Backend
- `protection.js` - ุงูููุฏ ุงูุฐู ูุชุตู ุจู Apps Script

### ุฑูุงุจุท ูููุฏุฉ:
- [Google Apps Script Documentation](https://developers.google.com/apps-script)
- [Google Sheets API](https://developers.google.com/sheets/api)

---

## โ ูุงุฆูุฉ ุงูุชุญูู

### ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณู:
- โ ุฅูุดุงุก Google Sheets ุจุงุณู "Athar_Database"
- โ ุฅูุดุงุก ุงูุฌุฏุงูู (UsedCodes, Users, Stats, Jobs, Library)
- โ ุฅูุดุงุก Apps Script ููุตู ููุฏ `bridge_script.js`
- โ ูุดุฑ Web App
- โ ูุณุฎ ุฑุงุจุท Web App
- โ ุชุญุฏูุซ `protection.js` ุจุงูุฑุงุจุท ุงูุฌุฏูุฏ
- โ ุงุฎุชุจุงุฑ ุงูุฑุจุท

### ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ (ุงุฎุชูุงุฑู):
- โฌ ุฅุถุงูุฉ SPREADSHEET_ID ููุณุฑุนุฉ
- โฌ ุฅุนุฏุงุฏ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ
- โฌ ุชุทุจูู ุฅุฌุฑุงุกุงุช ุงูุฃูุงู
- โฌ ุฅุนุฏุงุฏ Rate Limiting

---

## ๐ ุงูุฎูุงุตุฉ

**ูููุนู ูุฑุชุจุท ุจุงููุนู ุจู Google Sheets!** โ

ุฅุฐุง ููุช ุชุฑูุฏ:
1. โ **ุงูุชุญูู ูู ุงูุฑุจุท ุงูุญุงูู** - ุงุชุจุน ูุณู "ุฎุทูุงุช ุงูุชุญูู"
2. ๐ **ุฅูุดุงุก ุฑุจุท ุฌุฏูุฏ** - ุงุชุจุน ูุณู "ุฅูุดุงุก ุฑุจุท ุฌุฏูุฏ ูู ุงูุตูุฑ"
3. ๐ง **ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช** - ุงุชุจุน ูุณู "ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ"

---

**ุฃุฎุจุฑูู ุฅุฐุง ุงุญุชุฌุช ุฅูู ูุณุงุนุฏุฉ ูู ุฃู ุฎุทูุฉ!** ๐
