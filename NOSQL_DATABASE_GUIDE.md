# ๐๏ธ ุฏููู ุฑุจุท ุงููููุน ุจูุงุนุฏุฉ ุจูุงูุงุช NoSQL

## ๐ ุฌุฏูู ุงููุญุชููุงุช
1. [ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ](#ุงูุฎูุงุฑุงุช-ุงููุชุงุญุฉ)
2. [Firebase (ุงูููุตู ุจู)](#firebase-ุงูููุตู-ุจู)
3. [MongoDB Atlas](#mongodb-atlas)
4. [ุงููุนูููุงุช ุงููุทููุจุฉ](#ุงููุนูููุงุช-ุงููุทููุจุฉ)
5. [ูููู ุงูุจูุงูุงุช](#ูููู-ุงูุจูุงูุงุช)

---

## ๐ฏ ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

### 1. **Firebase Firestore** (ุงูููุตู ุจู ูููุจุชุฏุฆูู)
- โ ูุฌุงูู ุญุชู ุญุฏ ูุนูู
- โ ุณูู ุงูุฅุนุฏุงุฏ ูุงูุงุณุชุฎุฏุงู
- โ ูุนูู ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ (ูุง ูุญุชุงุฌ Backend)
- โ ุชุญุฏูุซุงุช ููุฑูุฉ (Real-time)
- โ ูุญุฏูุฏ ูู ุงูุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ

### 2. **MongoDB Atlas** (ูููุดุงุฑูุน ุงููุจูุฑุฉ)
- โ ููู ููุฑู ุฌุฏุงู
- โ ูุฌุงูู ุญุชู 512MB
- โ ุงุณุชุนูุงูุงุช ูุชูุฏูุฉ
- โ ูุญุชุงุฌ Backend ุฃู API Proxy
- โ ุฃุตุนุจ ููููุงู ูู ุงูุฅุนุฏุงุฏ

---

## ๐ฅ Firebase (ุงูููุตู ุจู)

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุดุฑูุน Firebase

1. ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
2. ุงููุฑ ุนูู "Add project" ุฃู "ุฅุถุงูุฉ ูุดุฑูุน"
3. ุฃุฏุฎู ุงุณู ุงููุดุฑูุน (ูุซูุงู: `athar-platform`)
4. ุงุฎุชุฑ ุฅุนุฏุงุฏุงุช Google Analytics (ุงุฎุชูุงุฑู)
5. ุงููุฑ ุนูู "Create project"

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ Firestore Database

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **"Firestore Database"**
2. ุงููุฑ ุนูู **"Create database"**
3. ุงุฎุชุฑ **"Start in production mode"** (ุณูุนุฏู ุงูููุงุนุฏ ูุงุญูุงู)
4. ุงุฎุชุฑ ุงููููุน ุงูุฌุบุฑุงูู ุงูุฃูุฑุจ (ูุซูุงู: `eur3 (europe-west)`)
5. ุงููุฑ ุนูู **"Enable"**

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ Authentication (ุชุณุฌูู ุงูุฏุฎูู)

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **"Authentication"**
2. ุงููุฑ ุนูู **"Get started"**
3. ุงุฎุชุฑ **"Email/Password"** ูู ูุงุฆูุฉ Sign-in methods
4. ูุนูู ุงูุฎูุงุฑ ูุงููุฑ ุนูู **"Save"**

### ุงูุฎุทูุฉ 4: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุชุตุงู

1. ุงููุฑ ุนูู ุฃููููุฉ ุงูุชุฑุณ โ๏ธ ุจุฌุงูุจ "Project Overview"
2. ุงุฎุชุฑ **"Project settings"**
3. ุงูุฒู ุฅูู ูุณู **"Your apps"**
4. ุงููุฑ ุนูู ุฃููููุฉ ุงูููุจ `</>`
5. ุฃุฏุฎู ุงุณู ุงูุชุทุจูู (ูุซูุงู: `athar-web`)
6. **ูุง ุชุฎุชุฑ** "Firebase Hosting" ุงูุขู
7. ุงููุฑ ุนูู **"Register app"**

ุณุชุญุตู ุนูู ููุฏ ูุซู ูุฐุง:

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  authDomain: "athar-platform.firebaseapp.com",
  projectId: "athar-platform",
  storageBucket: "athar-platform.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef1234567890"
};
```

**ุงุญูุธ ูุฐู ุงููุนูููุงุช!** ุณุชุญุชุงุฌูุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ.

### ุงูุฎุทูุฉ 5: ุฅุนุฏุงุฏ ููุงุนุฏ ุงูุฃูุงู

ูู ุตูุญุฉ Firestore Databaseุ ุงุฐูุจ ุฅูู ุชุจููุจ **"Rules"** ูุถุน ูุฐู ุงูููุงุนุฏ:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ุงูุณูุงุญ ุจูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุนุงูุฉ
    match /jobs/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    match /library/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // ุงูุฃููุงุฏ ุงููุณุชุฎุฏูุฉ - ูุฑุงุกุฉ ููุชุงุจุฉ ูููุณุชุฎุฏููู ุงููุณุฌููู ููุท
    match /usedCodes/{document=**} {
      allow read, write: if request.auth != null;
    }
    
    // ุจูุงูุงุช ุงููุณุชุฎุฏููู - ูู ูุณุชุฎุฏู ููููู ูุฑุงุกุฉ ูุชุนุฏูู ุจูุงูุงุชู ููุท
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // ุฅุญุตุงุฆูุงุช ุงููููุน - ูุฑุงุกุฉ ููุฌููุนุ ูุชุงุจุฉ ูููุณุฌููู
    match /stats/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
```

---

## ๐ MongoDB Atlas

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ

1. ุงุฐูุจ ุฅูู [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register)
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ (ููููู ุงุณุชุฎุฏุงู Google)
3. ุงุฎุชุฑ ุงูุฎุทุฉ ุงููุฌุงููุฉ **"M0 Sandbox"**

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Cluster

1. ุงุฎุชุฑ Cloud Provider (ูุซูุงู: **AWS**)
2. ุงุฎุชุฑ Region ุงูุฃูุฑุจ (ูุซูุงู: **Frankfurt**)
3. ุงุณู ุงูู Cluster (ูุซูุงู: `AtharCluster`)
4. ุงููุฑ ุนูู **"Create Cluster"**

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ุงูุฃูุงู

1. ุงููุฑ ุนูู **"Database Access"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุงููุฑ ุนูู **"Add New Database User"**
3. ุฃุฏุฎู ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ูููุฉ
4. ุงุฎุชุฑ **"Read and write to any database"**
5. ุงููุฑ ุนูู **"Add User"**

6. ุงููุฑ ุนูู **"Network Access"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
7. ุงููุฑ ุนูู **"Add IP Address"**
8. ุงููุฑ ุนูู **"Allow Access from Anywhere"** (0.0.0.0/0)
9. ุงููุฑ ุนูู **"Confirm"**

### ุงูุฎุทูุฉ 4: ุงูุญุตูู ุนูู Connection String

1. ุงุฑุฌุน ุฅูู **"Database"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุงููุฑ ุนูู **"Connect"** ุจุฌุงูุจ ุงุณู ุงูู Cluster
3. ุงุฎุชุฑ **"Connect your application"**
4. ุงุฎุชุฑ **Driver: Node.js** ู **Version: 4.1 or later**
5. ุงูุณุฎ ุงูู **Connection String**:

```
mongodb+srv://<username>:<password>@atharcluster.xxxxx.mongodb.net/?retryWrites=true&w=majority
```

**ุงุณุชุจุฏู `<username>` ู `<password>` ุจุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃุชู!**

---

## ๐ ุงููุนูููุงุช ุงููุทููุจุฉ

### ูู Firebase:
```javascript
{
  "apiKey": "AIzaSy...",           // ููุชุงุญ API
  "authDomain": "xxx.firebaseapp.com",
  "projectId": "xxx",
  "storageBucket": "xxx.appspot.com",
  "messagingSenderId": "123...",
  "appId": "1:123..."
}
```

### ูู MongoDB:
```javascript
{
  "connectionString": "mongodb+srv://username:password@cluster.xxxxx.mongodb.net/athar?retryWrites=true&w=majority",
  "databaseName": "athar"
}
```

---

## ๐๏ธ ูููู ุงูุจูุงูุงุช

### 1. ูุฌููุนุฉ `usedCodes` (ุงูุฃููุงุฏ ุงููุณุชุฎุฏูุฉ)

```javascript
{
  "code": "3025",           // ุงูููุฏ ุงููุณุชุฎุฏู
  "id": "1000",             // ูุนุฑู ุงูุนูููุฉ
  "userId": "user123",      // ูุนุฑู ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑู)
  "page": "cv_improved.html", // ุงูุตูุญุฉ ุงูุชู ุชู ุงูุชูุนูู ูููุง
  "usedAt": "2026-01-03T01:24:16Z", // ุชุงุฑูุฎ ุงูุงุณุชุฎุฏุงู
  "ipAddress": "192.168.1.1" // ุนููุงู IP (ุงุฎุชูุงุฑู)
}
```

**ุงูููุงุฑุณ (Indexes) ุงููุทููุจุฉ:**
- `code` + `id` (ูุฑูุจ - Compound Index) - ููุชุญูู ุงูุณุฑูุน
- `usedAt` (ูููุฑุฒ ุญุณุจ ุงูุชุงุฑูุฎ)

### 2. ูุฌููุนุฉ `users` (ุงููุณุชุฎุฏููู)

```javascript
{
  "uid": "user123",         // ูุนุฑู ูุฑูุฏ
  "email": "user@example.com",
  "name": "ุงุณู ุงููุณุชุฎุฏู",
  "password": "hashed_password", // ูููุถู ุงุณุชุฎุฏุงู bcrypt
  "createdAt": "2026-01-03T01:24:16Z",
  "lastLogin": "2026-01-03T01:24:16Z",
  "activationCodes": [      // ุงูุฃููุงุฏ ุงูุชู ุงุณุชุฎุฏููุง
    {
      "code": "3025",
      "id": "1000",
      "page": "cv_improved.html",
      "usedAt": "2026-01-03T01:24:16Z"
    }
  ]
}
```

**ุงูููุงุฑุณ ุงููุทููุจุฉ:**
- `email` (ูุฑูุฏ - Unique)
- `uid` (ูุฑูุฏ - Unique)

### 3. ูุฌููุนุฉ `jobs` (ุงููุธุงุฆู)

```javascript
{
  "title": "ุนููุงู ุงููุธููุฉ",
  "organization": "ุงุณู ุงูููุธูุฉ",
  "location": "ุงููููุน",
  "deadline": "2026-01-31",
  "content": "ุงููุต ุงููุงูู...",
  "fileId": "google_drive_file_id",
  "createdAt": "2026-01-03T01:24:16Z",
  "category": "ุชุนููู"
}
```

### 4. ูุฌููุนุฉ `library` (ุงูููุชุจุฉ)

```javascript
{
  "title": "ุนููุงู ุงูููุฑุฏ",
  "category": "ุงูุชุตููู",
  "summary": "ููุฎุต ุงููุญุชูู",
  "fileId": "google_drive_file_id",
  "content": "ุงููุต ุงููุงูู...",
  "createdAt": "2026-01-03T01:24:16Z"
}
```

### 5. ูุฌููุนุฉ `stats` (ุงูุฅุญุตุงุฆูุงุช)

```javascript
{
  "visitorCount": 1527,
  "lastUpdated": "2026-01-03T01:24:16Z",
  "dailyVisits": {
    "2026-01-03": 45,
    "2026-01-02": 38
  }
}
```

---

## ๐ ูุตุงุฆุญ ุงูุฃูุงู

### 1. **ูุง ุชุฎุฒู ูููุงุช ุงููุฑูุฑ ุจุดูู ูุตู**
ุงุณุชุฎุฏู bcrypt ุฃู Firebase Authentication

### 2. **ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช**
```javascript
function validateCode(code, id) {
  if (!code || !id) return false;
  if (!/^\d+$/.test(code) || !/^\d+$/.test(id)) return false;
  return parseInt(code) === parseInt(id) + 2025;
}
```

### 3. **ุงุณุชุฎุฏู HTTPS ุฏุงุฆูุงู**
Firebase ูููุฑ HTTPS ุชููุงุฆูุงู

### 4. **ุฑุงูุจ ุงูุงุณุชุฎุฏุงู**
ุชุงุจุน ุนุฏุฏ ุงูุทูุจุงุช ูุงูุชุดุงู ุฃู ูุดุงุท ูุดุจูู

### 5. **ุญุฏุฏ ูุนุฏู ุงูุทูุจุงุช (Rate Limiting)**
```javascript
// ูุซุงู: ุงูุณูุงุญ ุจู 5 ูุญุงููุงุช ูู 15 ุฏูููุฉ
const MAX_ATTEMPTS = 5;
const TIME_WINDOW = 15 * 60 * 1000; // 15 ุฏูููุฉ
```

---

## ๐ ููุงุฑูุฉ ุณุฑูุนุฉ

| ุงูููุฒุฉ | Google Sheets | Firebase | MongoDB |
|--------|---------------|----------|---------|
| ุงูุณูููุฉ | โญโญโญโญโญ | โญโญโญโญ | โญโญโญ |
| ุงูุณุฑุนุฉ | โญโญ | โญโญโญโญโญ | โญโญโญโญโญ |
| ุงููุฑููุฉ | โญโญ | โญโญโญโญ | โญโญโญโญโญ |
| ุงูุชูููุฉ | ูุฌุงูู | ูุฌุงูู ุญุชู ุญุฏ | ูุฌุงูู ุญุชู 512MB |
| Real-time | โ | โ | โ (ูุน Change Streams) |
| ุงูุฃูุงู | โญโญโญ | โญโญโญโญโญ | โญโญโญโญโญ |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงุฎุชูุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
1. ุงุญุตู ุนูู ุจูุงูุงุช ุงูุงุชุตุงู
2. ุฃุฎุจุฑูู ุจุงูุฎูุงุฑ ุงูุฐู ุงุฎุชุฑุชู
3. ุณุฃููู ุจุฅูุดุงุก ูููุงุช ุงูุงุชุตุงู ูุงูุชูุงูู
4. ุณูุฎุชุจุฑ ุงููุธุงู ูุนุงู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
- ุฑุงุฌุน [Firebase Documentation](https://firebase.google.com/docs)
- ุฑุงุฌุน [MongoDB Documentation](https://docs.mongodb.com/)
- ุงุทูุจ ุงููุณุงุนุฏุฉ ููู ูุจุงุดุฑุฉ!
